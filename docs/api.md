<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# townshipResetPasswordToken

**Parameters**

-   `db` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** – instance of a level db. See <https://npmjs.com/level>
-   `config` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** – configuration object
    -   `config.algorithm` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – **Optional.** JWA algorithm, default is `HS256` (HMAC/SHA256 with secret). You must specify your key type if using a keypair.
    -   `config.secret` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – **Optional.** Secret used for signing and verifying tokens
    -   `config.publicKey` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – **Optional.** Public key used to sign tokens
    -   `config.privateKey` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – **Optional.** Private key used to verify tokens

**Examples**

```javascript
var resetTokens = require('township-reset-password-token')

var reset = resetTokens(db, {
  secret: 'choose something more secret'
})

reset.create({ accountKey: 'key for an account' }, function (err, token) {
  if (err) return console.log(err)

  reset.confirm({ accountKey: 'key for an account', token: token }, function (err) {
    if (err) return console.log('token not confirmed')
    console.log('token confirmed')
  })
})
```

# create

create a password reset token

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** – required options object
    -   `options.accountKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – required key for the account that is being reset

**Examples**

```javascript
reset.create({ accountKey: 'key for an account' }, function (err, token) {
  if (err) return console.log(err)
  // send token in email
})
```

# confirm

confirm a password reset token

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** – required options object
    -   `options.accountKey` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** – required key for the account that is being reset

**Examples**

```javascript
// receive token via http request
reset.confirm({ accountKey: 'key for an account', token: token }, function (err) {
  if (err) return console.log('token not confirmed')
  console.log('token confirmed')
})
```
